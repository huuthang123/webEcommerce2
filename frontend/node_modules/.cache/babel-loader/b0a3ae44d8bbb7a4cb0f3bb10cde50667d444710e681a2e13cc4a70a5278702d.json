{"ast":null,"code":"var _jsxFileName = \"D:\\\\N\\u0103m 4 K\\xEC 2\\\\Ph\\xE1t tri\\u1EC3n h\\u1EC7 th\\u1ED1ng th\\u01B0\\u01A1ng m\\u1EA1i \\u0111i\\u1EC7n t\\u1EED\\\\ecommerce-app\\\\frontend\\\\src\\\\components\\\\Menu.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/menu.css';\nimport { fetchMenuItems } from '../services/menuService';\nimport { useCart } from '../context/CartContext';\nimport { Slider, InputNumber } from 'antd'; // Th√™m th∆∞ vi·ªán antd cho slider\nimport 'antd/dist/antd.css'; // Import CSS cho antd\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Menu() {\n  _s();\n  const [fruitItems, setFruitItems] = useState([]);\n  const [seafoodItems, setSeafoodItems] = useState([]);\n  const [meatItems, setMeatItems] = useState([]);\n  const [nutItems, setNutItems] = useState([]);\n  const [allItems, setAllItems] = useState([]);\n  const [filteredItems, setFilteredItems] = useState([]);\n  const [categories, setCategories] = useState({\n    all: true,\n    fruit: false,\n    seafood: false,\n    meat: false,\n    nut: false\n  });\n  const [sortOption, setSortOption] = useState('default');\n  const [priceRange, setPriceRange] = useState([0, 500000]); // Kho·∫£ng gi√° m·∫∑c ƒë·ªãnh\n  const {\n    addToCart\n  } = useCart();\n  const navigate = useNavigate();\n\n  // Fetch d·ªØ li·ªáu t·ª´ API\n  useEffect(() => {\n    fetchMenuItems('fruit').then(items => {\n      setFruitItems(items);\n      setAllItems(prev => [...prev, ...items.map(item => ({\n        ...item,\n        category: 'fruit'\n      }))]);\n    });\n    fetchMenuItems('seafood').then(items => {\n      setSeafoodItems(items);\n      setAllItems(prev => [...prev, ...items.map(item => ({\n        ...item,\n        category: 'seafood'\n      }))]);\n    });\n    fetchMenuItems('meat').then(items => {\n      setMeatItems(items);\n      setAllItems(prev => [...prev, ...items.map(item => ({\n        ...item,\n        category: 'meat'\n      }))]);\n    });\n    fetchMenuItems('nut').then(items => {\n      setNutItems(items);\n      setAllItems(prev => [...prev, ...items.map(item => ({\n        ...item,\n        category: 'nut'\n      }))]);\n    });\n  }, []);\n\n  // L·ªçc v√† s·∫Øp x·∫øp s·∫£n ph·∫©m\n  useEffect(() => {\n    let itemsToFilter = [...allItems];\n\n    // L·ªçc theo danh m·ª•c\n    if (!categories.all) {\n      itemsToFilter = itemsToFilter.filter(item => {\n        return categories.fruit && item.category === 'fruit' || categories.seafood && item.category === 'seafood' || categories.meat && item.category === 'meat' || categories.nut && item.category === 'nut';\n      });\n    }\n\n    // L·ªçc theo kho·∫£ng gi√°\n    itemsToFilter = itemsToFilter.filter(item => {\n      var _item$prices, _item$prices$, _item$prices2;\n      const price = ((_item$prices = item.prices) === null || _item$prices === void 0 ? void 0 : (_item$prices$ = _item$prices[\"0\"]) === null || _item$prices$ === void 0 ? void 0 : _item$prices$[\"25\"]) || ((_item$prices2 = item.prices) === null || _item$prices2 === void 0 ? void 0 : _item$prices2[\"1\"]) || 0;\n      return price >= priceRange[0] && price <= priceRange[1];\n    });\n\n    // S·∫Øp x·∫øp theo gi√°\n    if (sortOption === 'low-to-high') {\n      itemsToFilter.sort((a, b) => {\n        var _a$prices, _a$prices$, _a$prices2, _b$prices, _b$prices$, _b$prices2;\n        const priceA = ((_a$prices = a.prices) === null || _a$prices === void 0 ? void 0 : (_a$prices$ = _a$prices[\"0\"]) === null || _a$prices$ === void 0 ? void 0 : _a$prices$[\"25\"]) || ((_a$prices2 = a.prices) === null || _a$prices2 === void 0 ? void 0 : _a$prices2[\"1\"]) || 0;\n        const priceB = ((_b$prices = b.prices) === null || _b$prices === void 0 ? void 0 : (_b$prices$ = _b$prices[\"0\"]) === null || _b$prices$ === void 0 ? void 0 : _b$prices$[\"25\"]) || ((_b$prices2 = b.prices) === null || _b$prices2 === void 0 ? void 0 : _b$prices2[\"1\"]) || 0;\n        return priceA - priceB;\n      });\n    } else if (sortOption === 'high-to-low') {\n      itemsToFilter.sort((a, b) => {\n        var _a$prices3, _a$prices3$, _a$prices4, _b$prices3, _b$prices3$, _b$prices4;\n        const priceA = ((_a$prices3 = a.prices) === null || _a$prices3 === void 0 ? void 0 : (_a$prices3$ = _a$prices3[\"0\"]) === null || _a$prices3$ === void 0 ? void 0 : _a$prices3$[\"25\"]) || ((_a$prices4 = a.prices) === null || _a$prices4 === void 0 ? void 0 : _a$prices4[\"1\"]) || 0;\n        const priceB = ((_b$prices3 = b.prices) === null || _b$prices3 === void 0 ? void 0 : (_b$prices3$ = _b$prices3[\"0\"]) === null || _b$prices3$ === void 0 ? void 0 : _b$prices3$[\"25\"]) || ((_b$prices4 = b.prices) === null || _b$prices4 === void 0 ? void 0 : _b$prices4[\"1\"]) || 0;\n        return priceB - priceA;\n      });\n    }\n    setFilteredItems(itemsToFilter);\n  }, [allItems, categories, sortOption, priceRange]);\n\n  // X·ª≠ l√Ω thay ƒë·ªïi checkbox danh m·ª•c\n  const handleCategoryChange = category => {\n    if (category === 'all') {\n      setCategories({\n        all: true,\n        fruit: false,\n        seafood: false,\n        meat: false,\n        nut: false\n      });\n    } else {\n      setCategories(prev => {\n        const newState = {\n          ...prev,\n          [category]: !prev[category],\n          all: false\n        };\n\n        // N·∫øu t·∫•t c·∫£ c√°c checkbox kh√°c ƒë·ªÅu false th√¨ ch·ªçn 'all'\n        if (!newState.fruit && !newState.seafood && !newState.meat && !newState.nut) {\n          return {\n            all: true,\n            fruit: false,\n            seafood: false,\n            meat: false,\n            nut: false\n          };\n        }\n        return newState;\n      });\n    }\n  };\n\n  // X·ª≠ l√Ω thay ƒë·ªïi s·∫Øp x·∫øp\n  const handleSortChange = e => {\n    setSortOption(e.target.value);\n  };\n\n  // X·ª≠ l√Ω thay ƒë·ªïi kho·∫£ng gi√°\n  const handlePriceChange = value => {\n    setPriceRange(value);\n  };\n\n  // X·ª≠ l√Ω th√™m v√†o gi·ªè h√†ng\n  const handleAddToCart = item => {\n    var _item$prices3, _item$prices3$, _item$prices4;\n    const price = ((_item$prices3 = item.prices) === null || _item$prices3 === void 0 ? void 0 : (_item$prices3$ = _item$prices3[\"0\"]) === null || _item$prices3$ === void 0 ? void 0 : _item$prices3$[\"25\"]) || ((_item$prices4 = item.prices) === null || _item$prices4 === void 0 ? void 0 : _item$prices4[\"1\"]);\n    if (price === undefined) {\n      console.error(\"L·ªói: Kh√¥ng t√¨m th·∫•y gi√° s·∫£n ph·∫©m\", item);\n      return;\n    }\n    addToCart({\n      productId: item._id,\n      name: item.name,\n      price: price,\n      image: item.image,\n      size: \"0.25\",\n      quantity: 1\n    });\n  };\n\n  // Render s·∫£n ph·∫©m\n  const renderMenuItems = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-lists\",\n    children: filteredItems.length > 0 ? filteredItems.map(item => {\n      var _item$prices5, _item$prices5$, _item$prices6;\n      const currentPrice = ((_item$prices5 = item.prices) === null || _item$prices5 === void 0 ? void 0 : (_item$prices5$ = _item$prices5[\"0\"]) === null || _item$prices5$ === void 0 ? void 0 : _item$prices5$[\"25\"]) || ((_item$prices6 = item.prices) === null || _item$prices6 === void 0 ? void 0 : _item$prices6[\"1\"]);\n      const originalPrice = currentPrice / (1 - 0.17); // Gi·∫£m 17%\n      const discountPercentage = 17;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"food-items\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"food-item\",\n          onClick: () => navigate(`/${item.category}/${item._id}`),\n          style: {\n            cursor: \"pointer\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.image,\n            alt: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"food-price\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"current-price\",\n            children: currentPrice ? `${currentPrice.toLocaleString()} VND` : \"Gi√° ch∆∞a c·∫≠p nh·∫≠t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 33\n          }, this), originalPrice && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"original-price\",\n            children: [Math.round(originalPrice).toLocaleString(), \" VND\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 37\n          }, this), discountPercentage && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"discount\",\n            children: [\"-\", discountPercentage, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"food-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u2B50 \", item.rating || 5.0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u0110\\xE3 b\\xE1n \", item.sold || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-to-cart-btn\",\n          onClick: e => {\n            e.stopPropagation();\n            handleAddToCart(item);\n          },\n          children: \"\\uD83D\\uDED2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 29\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-products\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi b\\u1ED9 l\\u1ECDc hi\\u1EC7n t\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"menu\",\n    id: \"dactrung\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Danh M\\u1EE5c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-checkbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: categories.all,\n              onChange: () => handleCategoryChange('all')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 29\n            }, this), \"T\\u1EA5t c\\u1EA3 s\\u1EA3n ph\\u1EA9m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: categories.fruit,\n              onChange: () => handleCategoryChange('fruit')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, this), \"Tr\\xE1i C\\xE2y S\\u1EA5y\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: categories.seafood,\n              onChange: () => handleCategoryChange('seafood')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 29\n            }, this), \"H\\u1EA3i S\\u1EA3n S\\u1EA5y\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: categories.meat,\n              onChange: () => handleCategoryChange('meat')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this), \"Th\\u1ECBt S\\u1EA5y\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: categories.nut,\n              onChange: () => handleCategoryChange('nut')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), \"H\\u1EA1t S\\u1EA5y\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price-filter\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Kho\\u1EA3ng gi\\xE1 (VND)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px',\n              marginBottom: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputNumber, {\n              value: priceRange[0],\n              onChange: value => setPriceRange([value, priceRange[1]]),\n              min: 0,\n              max: priceRange[1],\n              formatter: value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n              parser: value => value.replace(/\\$\\s?|(,*)/g, '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(InputNumber, {\n              value: priceRange[1],\n              onChange: value => setPriceRange([priceRange[0], value]),\n              min: priceRange[0],\n              max: 1000000,\n              formatter: value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','),\n              parser: value => value.replace(/\\$\\s?|(,*)/g, '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            range: true,\n            min: 0,\n            max: 1000000,\n            step: 10000,\n            value: priceRange,\n            onChange: handlePriceChange,\n            tipFormatter: value => `${value.toLocaleString()} VND`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            \"data-title\": \"\",\n            children: \"S\\u1EA2N PH\\u1EA8M C\\u1EE6A CH\\xDANG T\\xD4I\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"T\\u1EADn h\\u01B0\\u1EDFng v\\u1ECB ngon t\\u1EF1 nhi\\xEAn t\\u1EEB th\\u1EF1c ph\\u1EA9m s\\u1EA5y kh\\xF4...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-products\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-sort\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: sortOption,\n              onChange: handleSortChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"default\",\n                children: \"S\\u1EAFp x\\u1EBFp: M\\u1EB7c \\u0111\\u1ECBnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"low-to-high\",\n                children: \"Gi\\xE1: Th\\u1EA5p \\u0111\\u1EBFn cao\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"high-to-low\",\n                children: \"Gi\\xE1: Cao \\u0111\\u1EBFn th\\u1EA5p\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this), renderMenuItems()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 9\n  }, this);\n}\n_s(Menu, \"b8+Cnp36mGhGO8kfWvIeh4UBbao=\", false, function () {\n  return [useCart, useNavigate];\n});\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","fetchMenuItems","useCart","Slider","InputNumber","jsxDEV","_jsxDEV","Menu","_s","fruitItems","setFruitItems","seafoodItems","setSeafoodItems","meatItems","setMeatItems","nutItems","setNutItems","allItems","setAllItems","filteredItems","setFilteredItems","categories","setCategories","all","fruit","seafood","meat","nut","sortOption","setSortOption","priceRange","setPriceRange","addToCart","navigate","then","items","prev","map","item","category","itemsToFilter","filter","_item$prices","_item$prices$","_item$prices2","price","prices","sort","a","b","_a$prices","_a$prices$","_a$prices2","_b$prices","_b$prices$","_b$prices2","priceA","priceB","_a$prices3","_a$prices3$","_a$prices4","_b$prices3","_b$prices3$","_b$prices4","handleCategoryChange","newState","handleSortChange","e","target","value","handlePriceChange","handleAddToCart","_item$prices3","_item$prices3$","_item$prices4","undefined","console","error","productId","_id","name","image","size","quantity","renderMenuItems","className","children","length","_item$prices5","_item$prices5$","_item$prices6","currentPrice","originalPrice","discountPercentage","onClick","style","cursor","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","Math","round","rating","sold","stopPropagation","id","type","checked","onChange","display","gap","marginBottom","min","max","formatter","replace","parser","range","step","tipFormatter","_c","$RefreshReg$"],"sources":["D:/NƒÉm 4 K√¨ 2/Ph√°t tri·ªÉn h·ªá th·ªëng th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠/ecommerce-app/frontend/src/components/Menu.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/menu.css';\r\nimport { fetchMenuItems } from '../services/menuService';\r\nimport { useCart } from '../context/CartContext';\r\nimport { Slider, InputNumber } from 'antd'; // Th√™m th∆∞ vi·ªán antd cho slider\r\nimport 'antd/dist/antd.css'; // Import CSS cho antd\r\n\r\nfunction Menu() {\r\n    const [fruitItems, setFruitItems] = useState([]);\r\n    const [seafoodItems, setSeafoodItems] = useState([]);\r\n    const [meatItems, setMeatItems] = useState([]);\r\n    const [nutItems, setNutItems] = useState([]);\r\n    const [allItems, setAllItems] = useState([]);\r\n    const [filteredItems, setFilteredItems] = useState([]);\r\n    const [categories, setCategories] = useState({\r\n        all: true,\r\n        fruit: false,\r\n        seafood: false,\r\n        meat: false,\r\n        nut: false,\r\n    });\r\n    const [sortOption, setSortOption] = useState('default');\r\n    const [priceRange, setPriceRange] = useState([0, 500000]); // Kho·∫£ng gi√° m·∫∑c ƒë·ªãnh\r\n    const { addToCart } = useCart();\r\n    const navigate = useNavigate();\r\n\r\n    // Fetch d·ªØ li·ªáu t·ª´ API\r\n    useEffect(() => {\r\n        fetchMenuItems('fruit').then((items) => {\r\n            setFruitItems(items);\r\n            setAllItems((prev) => [...prev, ...items.map(item => ({ ...item, category: 'fruit' }))]);\r\n        });\r\n        fetchMenuItems('seafood').then((items) => {\r\n            setSeafoodItems(items);\r\n            setAllItems((prev) => [...prev, ...items.map(item => ({ ...item, category: 'seafood' }))]);\r\n        });\r\n        fetchMenuItems('meat').then((items) => {\r\n            setMeatItems(items);\r\n            setAllItems((prev) => [...prev, ...items.map(item => ({ ...item, category: 'meat' }))]);\r\n        });\r\n        fetchMenuItems('nut').then((items) => {\r\n            setNutItems(items);\r\n            setAllItems((prev) => [...prev, ...items.map(item => ({ ...item, category: 'nut' }))]);\r\n        });\r\n    }, []);\r\n\r\n    // L·ªçc v√† s·∫Øp x·∫øp s·∫£n ph·∫©m\r\n    useEffect(() => {\r\n        let itemsToFilter = [...allItems];\r\n\r\n        // L·ªçc theo danh m·ª•c\r\n        if (!categories.all) {\r\n            itemsToFilter = itemsToFilter.filter(item => {\r\n                return (\r\n                    (categories.fruit && item.category === 'fruit') ||\r\n                    (categories.seafood && item.category === 'seafood') ||\r\n                    (categories.meat && item.category === 'meat') ||\r\n                    (categories.nut && item.category === 'nut')\r\n                );\r\n            });\r\n        }\r\n\r\n        // L·ªçc theo kho·∫£ng gi√°\r\n        itemsToFilter = itemsToFilter.filter(item => {\r\n            const price = item.prices?.[\"0\"]?.[\"25\"] || item.prices?.[\"1\"] || 0;\r\n            return price >= priceRange[0] && price <= priceRange[1];\r\n        });\r\n\r\n        // S·∫Øp x·∫øp theo gi√°\r\n        if (sortOption === 'low-to-high') {\r\n            itemsToFilter.sort((a, b) => {\r\n                const priceA = a.prices?.[\"0\"]?.[\"25\"] || a.prices?.[\"1\"] || 0;\r\n                const priceB = b.prices?.[\"0\"]?.[\"25\"] || b.prices?.[\"1\"] || 0;\r\n                return priceA - priceB;\r\n            });\r\n        } else if (sortOption === 'high-to-low') {\r\n            itemsToFilter.sort((a, b) => {\r\n                const priceA = a.prices?.[\"0\"]?.[\"25\"] || a.prices?.[\"1\"] || 0;\r\n                const priceB = b.prices?.[\"0\"]?.[\"25\"] || b.prices?.[\"1\"] || 0;\r\n                return priceB - priceA;\r\n            });\r\n        }\r\n\r\n        setFilteredItems(itemsToFilter);\r\n    }, [allItems, categories, sortOption, priceRange]);\r\n\r\n    // X·ª≠ l√Ω thay ƒë·ªïi checkbox danh m·ª•c\r\n    const handleCategoryChange = (category) => {\r\n        if (category === 'all') {\r\n            setCategories({\r\n                all: true,\r\n                fruit: false,\r\n                seafood: false,\r\n                meat: false,\r\n                nut: false,\r\n            });\r\n        } else {\r\n            setCategories(prev => {\r\n                const newState = {\r\n                    ...prev,\r\n                    [category]: !prev[category],\r\n                    all: false,\r\n                };\r\n                \r\n                // N·∫øu t·∫•t c·∫£ c√°c checkbox kh√°c ƒë·ªÅu false th√¨ ch·ªçn 'all'\r\n                if (!newState.fruit && !newState.seafood && !newState.meat && !newState.nut) {\r\n                    return {\r\n                        all: true,\r\n                        fruit: false,\r\n                        seafood: false,\r\n                        meat: false,\r\n                        nut: false,\r\n                    };\r\n                }\r\n                return newState;\r\n            });\r\n        }\r\n    };\r\n\r\n    // X·ª≠ l√Ω thay ƒë·ªïi s·∫Øp x·∫øp\r\n    const handleSortChange = (e) => {\r\n        setSortOption(e.target.value);\r\n    };\r\n\r\n    // X·ª≠ l√Ω thay ƒë·ªïi kho·∫£ng gi√°\r\n    const handlePriceChange = (value) => {\r\n        setPriceRange(value);\r\n    };\r\n\r\n    // X·ª≠ l√Ω th√™m v√†o gi·ªè h√†ng\r\n    const handleAddToCart = (item) => {\r\n        const price = item.prices?.[\"0\"]?.[\"25\"] || item.prices?.[\"1\"];\r\n        if (price === undefined) {\r\n            console.error(\"L·ªói: Kh√¥ng t√¨m th·∫•y gi√° s·∫£n ph·∫©m\", item);\r\n            return;\r\n        }\r\n\r\n        addToCart({\r\n            productId: item._id,\r\n            name: item.name,\r\n            price: price,\r\n            image: item.image,\r\n            size: \"0.25\",\r\n            quantity: 1,\r\n        });\r\n    };\r\n\r\n    // Render s·∫£n ph·∫©m\r\n    const renderMenuItems = () => (\r\n        <div className=\"menu-lists\">\r\n            {filteredItems.length > 0 ? (\r\n                filteredItems.map((item) => {\r\n                    const currentPrice = item.prices?.[\"0\"]?.[\"25\"] || item.prices?.[\"1\"];\r\n                    const originalPrice = currentPrice / (1 - 0.17); // Gi·∫£m 17%\r\n                    const discountPercentage = 17;\r\n\r\n                    return (\r\n                        <div className=\"food-items\" key={item._id}>\r\n                            <div\r\n                                className=\"food-item\"\r\n                                onClick={() => navigate(`/${item.category}/${item._id}`)}\r\n                                style={{ cursor: \"pointer\" }}\r\n                            >\r\n                                <img src={item.image} alt={item.name} />\r\n                                <h2>{item.name}</h2>\r\n                            </div>\r\n                            <div className=\"food-price\">\r\n                                <span className=\"current-price\">\r\n                                    {currentPrice\r\n                                        ? `${currentPrice.toLocaleString()} VND`\r\n                                        : \"Gi√° ch∆∞a c·∫≠p nh·∫≠t\"}\r\n                                </span>\r\n                                {originalPrice && (\r\n                                    <span className=\"original-price\">\r\n                                        {Math.round(originalPrice).toLocaleString()} VND\r\n                                    </span>\r\n                                )}\r\n                                {discountPercentage && (\r\n                                    <span className=\"discount\">-{discountPercentage}%</span>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"food-meta\">\r\n                                <span>‚≠ê {item.rating || 5.0}</span>\r\n                                <span>ƒê√£ b√°n {item.sold || 0}</span>\r\n                            </div>\r\n                            <button\r\n                                className=\"add-to-cart-btn\"\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    handleAddToCart(item);\r\n                                }}\r\n                            >\r\n                                üõí\r\n                            </button>\r\n                        </div>\r\n                    );\r\n                })\r\n            ) : (\r\n                <div className=\"no-products\">\r\n                    <p>Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o ph√π h·ª£p v·ªõi b·ªô l·ªçc hi·ªán t·∫°i</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <section className=\"menu\" id=\"dactrung\">\r\n            <div className=\"menu-wrapper\">\r\n                {/* Sidebar danh m·ª•c */}\r\n                <div className=\"menu-sidebar\">\r\n                    <h3>Danh M·ª•c</h3>\r\n                    <div className=\"category-checkbox\">\r\n                        <label>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={categories.all}\r\n                                onChange={() => handleCategoryChange('all')}\r\n                            />\r\n                            T·∫•t c·∫£ s·∫£n ph·∫©m\r\n                        </label>\r\n                        <label>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={categories.fruit}\r\n                                onChange={() => handleCategoryChange('fruit')}\r\n                            />\r\n                            Tr√°i C√¢y S·∫•y\r\n                        </label>\r\n                        <label>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={categories.seafood}\r\n                                onChange={() => handleCategoryChange('seafood')}\r\n                            />\r\n                            H·∫£i S·∫£n S·∫•y\r\n                        </label>\r\n                        <label>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={categories.meat}\r\n                                onChange={() => handleCategoryChange('meat')}\r\n                            />\r\n                            Th·ªãt S·∫•y\r\n                        </label>\r\n                        <label>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={categories.nut}\r\n                                onChange={() => handleCategoryChange('nut')}\r\n                            />\r\n                            H·∫°t S·∫•y\r\n                        </label>\r\n                    </div>\r\n\r\n                    {/* B·ªô l·ªçc theo gi√° */}\r\n                    <div className=\"price-filter\">\r\n                        <h3>Kho·∫£ng gi√° (VND)</h3>\r\n                        <div style={{ display: 'flex', gap: '10px', marginBottom: '16px' }}>\r\n                            <InputNumber\r\n                                value={priceRange[0]}\r\n                                onChange={(value) => setPriceRange([value, priceRange[1]])}\r\n                                min={0}\r\n                                max={priceRange[1]}\r\n                                formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                            />\r\n                            <InputNumber\r\n                                value={priceRange[1]}\r\n                                onChange={(value) => setPriceRange([priceRange[0], value])}\r\n                                min={priceRange[0]}\r\n                                max={1000000}\r\n                                formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                            />\r\n                        </div>\r\n                        <Slider\r\n                            range\r\n                            min={0}\r\n                            max={1000000}\r\n                            step={10000}\r\n                            value={priceRange}\r\n                            onChange={handlePriceChange}\r\n                            tipFormatter={value => `${value.toLocaleString()} VND`}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Ph·∫ßn n·ªôi dung ch√≠nh */}\r\n                <div className=\"menu-main-content\">\r\n                    {/* Ti√™u ƒë·ªÅ */}\r\n                    <div className=\"section-title\">\r\n                        <h2 data-title=\"\">S·∫¢N PH·∫®M C·ª¶A CH√öNG T√îI</h2>\r\n                    </div>\r\n\r\n                    {/* Tagline */}\r\n                    <div className=\"menu-title\">\r\n                        <h2>T·∫≠n h∆∞·ªüng v·ªã ngon t·ª± nhi√™n t·ª´ th·ª±c ph·∫©m s·∫•y kh√¥...</h2>\r\n                    </div>\r\n\r\n                    {/* Ph·∫ßn s·∫£n ph·∫©m */}\r\n                    <div className=\"menu-products\">\r\n                        {/* S·∫Øp x·∫øp */}\r\n                        <div className=\"menu-sort\">\r\n                            <select value={sortOption} onChange={handleSortChange}>\r\n                                <option value=\"default\">S·∫Øp x·∫øp: M·∫∑c ƒë·ªãnh</option>\r\n                                <option value=\"low-to-high\">Gi√°: Th·∫•p ƒë·∫øn cao</option>\r\n                                <option value=\"high-to-low\">Gi√°: Cao ƒë·∫øn th·∫•p</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Hi·ªÉn th·ªã s·∫£n ph·∫©m */}\r\n                        {renderMenuItems()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Menu;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}